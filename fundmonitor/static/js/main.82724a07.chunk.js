(this["webpackJsonpfund-monitor-react-app"]=this["webpackJsonpfund-monitor-react-app"]||[]).push([[0],{150:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(41),r=a.n(l),i=(a(53),a(42)),s=a(43),c=a(9),d=a(46),u=a(47),h=(a(54),a(44)),m={responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{type:"time",time:{unit:"month"}}]}},g={labels:[],datasets:[{label:"SPP Aktiefond Global",fill:!1,backgroundColor:"rgb(17,17,17)",borderColor:"rgb(17,17,17)",pointRadius:1,data:[]},{label:"SPP Aktiefond Global (MA50)",fill:!1,backgroundColor:"rgb(255,220,0)",borderColor:"rgb(255,220,0)",pointRadius:1,data:[]},{label:"SPP Aktiefond Global (MA200)",fill:!1,backgroundColor:"rgb(0,116,217)",borderColor:"rgb(0,116,217)",pointRadius:1,data:[]}]},b=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={fundPricesChart:g,chart_options:m},n.data=null,n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleButtonClick=n.handleButtonClick.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"calculateStartDate",value:function(e){var t=new Date(Date.now()),a=t;return"1_year"===e?a.setFullYear(t.getFullYear()-1):"1_month"===e?a.setMonth(t.getMonth()-1):"3_years"===e&&a.setFullYear(t.getFullYear()-3),a}},{key:"updateChart",value:function(e){var t=this.calculateStartDate(e);console.log("startDate: "+t);for(var a=[],n=[],o=[],l=[],r=0,i=this.data.length;r<i;r+=1){new Date(this.data[r].date)<t||(a.push(this.data[r].date),n.push(this.data[r].price),o.push(this.data[r].ma50),l.push(this.data[r].ma200))}var s=g;s.labels=a,s.datasets[0].data=n,s.datasets[1].data=o,s.datasets[2].data=l;var c=m;c.scales.xAxes[0].time.unit="1_month"===e?"day":"month",this.setState({fundPricesChart:s,chartOptions:c})}},{key:"fetchdata",value:function(){var e=this;console.log("running fetchdata");fetch("https://internal.jacobmossberg.se:20443/api/fundmonitor/fundpricesdatesorted").then((function(e){return e.json()})).then((function(t){e.data=t,e.updateChart("1_year")})).catch(console.log)}},{key:"componentDidMount",value:function(){console.log("componentDidMount"),this.fetchdata()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Fund Monitor App"),o.a.createElement("p",null,"The Fund Monitor app shows fund price data for a fund named SPP Aktiefond Global and corresponding moving averages for 50 and 200 days. New fund price data is added to the MongoDB database every night by crawling the web using Selenium. The app was created by ",o.a.createElement("a",{href:"https://twitter.com/jcmossberg"},"Jacob Mossberg")," to learn the following among other things:"),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{href:"https://reactjs.org/"},"ReactJS")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://www.chartjs.org/"},"Chart.js")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://spring.io/projects/spring-boot"},"Java Spring Boot")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://www.mongodb.com/"},"MongoDB")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://www.selenium.dev/"},"Selenium")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://www.rabbitmq.com/"},"RabbitMQ"))),o.a.createElement("p",null,"The data presented on this page might be wrong."),o.a.createElement("div",{className:"button-div"},o.a.createElement("button",{id:"1_month",className:"button",onClick:this.handleButtonClick},"1 month"),o.a.createElement("button",{id:"1_year",className:"button_active",onClick:this.handleButtonClick},"1 year"),o.a.createElement("button",{id:"3_years",className:"button",onClick:this.handleButtonClick},"3 years")),o.a.createElement("div",{className:"line-div"},o.a.createElement(h.a,{data:this.state.fundPricesChart,options:this.state.chart_options})))}},{key:"handleButtonClick",value:function(e){document.getElementById("1_month").className="button",document.getElementById("1_year").className="button",document.getElementById("3_years").className="button",document.getElementById(e.target.id).className="button_active",console.log("Set background color blue of id "+e.target.id),this.updateChart(e.target.id)}},{key:"handleChange",value:function(e){console.log(e.target.value),this.updateChart(e.target.value)}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},48:function(e,t,a){e.exports=a(150)},53:function(e,t,a){},54:function(e,t,a){}},[[48,1,2]]]);
//# sourceMappingURL=main.82724a07.chunk.js.map